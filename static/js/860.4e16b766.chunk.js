"use strict";(self.webpackChunkgoit_react_hw_08_phonebook=self.webpackChunkgoit_react_hw_08_phonebook||[]).push([[860],{5860:function(e,n,t){t.r(n),t.d(n,{default:function(){return y}});var r=t(9434),a=t(2791),o=t(1818),i=function(e){return e.contacts.items},s=function(e){return e.filter},c=function(e){return e.contacts.error},u=function(e){return e.contacts.isLoading},l=t(3897),d=t(184);function h(e){var n=e.contacts,t=e.onDelete;return n.sort((function(e,n){return n.id-e.id})).map((function(e){var n=e.id,r=e.name,a=e.phone;return(0,d.jsxs)("li",{children:[(0,d.jsxs)("p",{children:["Name: ",r]}),(0,d.jsxs)("p",{children:["Phone: ",a]}),(0,d.jsx)("button",{type:"button",onClick:function(){return t(n)},children:"Delete"})]},n)}))}function f(e){var n=e.contacts,t=e.onDelete;return(0,d.jsx)("ul",{children:(0,d.jsx)(h,{contacts:n,onDelete:t},n.id)})}var m=t(9439),p=t(1686),v=t.n(p),x=t(5984),b=function(e,n){var t=(0,a.useState)((function(){var t;return null!==(t=JSON.parse(window.localStorage.getItem(e)))&&void 0!==t?t:n})),r=(0,m.Z)(t,2),o=r[0],i=r[1];return(0,a.useEffect)((function(){window.localStorage.setItem(e,JSON.stringify(o))}),[e,o]),[o,i]},j=function(e){var n=e.sendDataToApp,t=(0,r.v9)(i),a=b("name",""),o=(0,m.Z)(a,2),s=o[0],c=o[1],u=b("number",""),l=(0,m.Z)(u,2),h=l[0],f=l[1],p=function(e){var n=e.target,t=n.name,r=n.value;switch(t){case"name":c(r);break;case"number":f(r);break;default:return}},j=function(e){var n=e.toLowerCase();return t.some((function(e){return e.name.toLowerCase()===n}))},g=function(){c(""),f("")};return(0,d.jsxs)("form",{onSubmit:function(e){e.preventDefault();var t=e.currentTarget.elements,r=t.name,a=t.number,o={id:(0,x.x0)(),name:r.value,number:a.value};if(j(o.name))return e.currentTarget.reset(),void v().Notify.failure("".concat(o.name," is already in contacts"));n({name:r.value,number:a.value},o),g()},children:[(0,d.jsxs)("label",{children:["Name",(0,d.jsx)("input",{type:"text",name:"name",value:s,pattern:"^[a-zA-Z\\s]+$",title:"Name may contain only letters, apostrophe, dash and spaces. For example Adrian, Jacob Mercer, Charles de Batz de Castelmore d'Artagnan",onChange:p,required:!0})]}),(0,d.jsxs)("label",{children:["Number",(0,d.jsx)("input",{type:"tel",name:"number",value:h,pattern:"^[+]?[0-9\\s]+$",title:"Phone number must be digits and can contain spaces, dashes, parentheses and can start with +",onChange:p,required:!0})]}),(0,d.jsx)("button",{type:"submit",children:"Add contact"})]})},g=function(e){var n=e.changeFilter,t=(0,r.v9)((function(e){return e.filter}));return(0,d.jsx)(d.Fragment,{children:(0,d.jsxs)("label",{children:["Find contacts by name",(0,d.jsx)("input",{type:"text",name:"filter",value:t,pattern:"^[a-zA-Z\u0430-\u044f\u0410-\u042f]+(([' -][a-zA-Z\u0430-\u044f\u0410-\u042f ])?[a-zA-Z\u0430-\u044f\u0410-\u042f]*)*$",title:"Name may contain only letters, apostrophe, dash and spaces. For example Adrian, Jacob Mercer, Charles de Batz de Castelmore d'Artagnan",onChange:n,required:!0})]})})},y=function(){var e=(0,r.I0)(),n=(0,r.v9)(i),t=(0,r.v9)(s),h=(0,r.v9)(c),m=(0,r.v9)(u);(0,a.useEffect)((function(){e((0,o.yF)())}),[e]);var p=t.toLowerCase(),v=n.filter((function(e){return e.name.toLowerCase().includes(p)}));return(0,d.jsxs)("div",{children:[(0,d.jsx)("h1",{children:"Phonebook"}),(0,d.jsx)(j,{sendDataToApp:function(n,t){console.log("Form data >>> ",n),e((0,o.uK)(t))}}),h&&(0,d.jsx)("h1",{children:"Ops, something went wrong"}),m&&(0,d.jsx)(l.Z,{}),n.length>0&&!h&&!m?(0,d.jsxs)("div",{children:[(0,d.jsx)("h2",{children:"Contacts"}),(0,d.jsx)(g,{changeFilter:function(n){var t=n.currentTarget.value;e({type:"filter/filter",payload:t})}}),(0,d.jsx)(f,{contacts:v,onDelete:function(n){e((0,o.GK)(n))}})]}):(0,d.jsx)("h1",{children:"There is no contacts yet"})]})}}}]);
//# sourceMappingURL=860.4e16b766.chunk.js.map